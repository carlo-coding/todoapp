var E=Object.defineProperty,M=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var v=(e,n,t)=>n in e?E(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,p=(e,n)=>{for(var t in n||(n={}))L.call(n,t)&&v(e,t,n[t]);if(y)for(var t of y(n))C.call(n,t)&&v(e,t,n[t]);return e},f=(e,n)=>M(e,B(n));import{a as x}from"./vendor.801850f6.js";const S=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}};S();function A(e){return e[Math.floor(Math.random()*e.length)]}let _=["despu\xE9s","m\xE1s tarde","seguidamente","posteriormente","enseguida","m\xE1s adelante"];function $(e){const n=e.map(s=>s.name);let t="Primero ",o=new SpeechSynthesisUtterance;o.lang="es Es";for(let s=0;s<n.length;s++){let r=s===n.length-1,c=s===n.length-2;t+=r&&n.length>1?" Por \xFAltimo":"",t+=" "+n[s],t+=c||r?"":" "+A(_)}o.text=t,window.speechSynthesis.speak(o)}const w=()=>"id"+Math.random().toString(16).slice(2);function F(e){var n=Math.floor(e/60),t=e%60;return[n,t]}const H=document.getElementById("todo_input"),N=document.getElementById("time_input_hours"),O=document.getElementById("time_input_minutes"),i=()=>{try{return JSON.parse(localStorage.getItem("tasks"))||[]}catch(e){return console.log(e),[]}},d=e=>{try{localStorage.setItem("tasks",JSON.stringify(e))}catch(n){console.log(n),localStorage.removeItem("tasks")}},D=e=>({name:n,hours:t,minutes:o})=>{const s=w();let r=i();r?(r.push({id:s,name:n,hours:t,minutes:o,checked:!1}),d(r)):(r=[{id:s,name:n,hours:t,minutes:o}],localStorage.setItem("tasks",JSON.stringify(r))),e()},k=e=>n=>{let t=i();t=t.map(o=>o.id===n.id?n:o),d(t),e()},q=e=>n=>{let t=i();t=t.filter(o=>o.id!=n),d(t),e()},P=e=>n=>{let t=i();const o=t.find(s=>s.id===n);H.value=o==null?void 0:o.name,N.value=o==null?void 0:o.hours,O.value=o==null?void 0:o.minutes,t=t.filter(s=>s.id!=n),d(t),e()},b=e=>`${Math.floor(e/60)}m | ${e-Math.floor(e/60)*60}s left`;function J({hours:e,minutes:n,taskElement:t,task:o,updateState:s}){const r=t.querySelector(".play"),c=t.querySelector(".time");let a=e*60*60+n*60,l=a;r.textContent="",c.innerHTML=b(l);const u=setInterval(()=>{l>0&&(l-=1,c.innerHTML=b(l))},1e3);setTimeout(()=>{clearInterval(u),c.innerHTML="its done",new Audio("./bell.mp3").play(),k(s)(f(p({},o),{checked:!0}))},a*1e3)}function j({task:e,container:n,updateState:t}){const o=document.createElement("div");o.setAttribute("class","todo"),o.setAttribute("style",`background:${e.checked?"rgba(0,0,0,.05)":"#FFF"}`);const s=document.createElement("input");s.setAttribute("type","checkbox"),s.setAttribute("class","checkbox"),s.checked=e.checked,s.onchange=()=>k(t)(f(p({},e),{checked:s.checked}));const r=document.createElement("p");r.setAttribute("style",`color:${e.checked?"rgba(0,0,0,.5)":"black"};
    text-decoration:${e.checked?"line-through":"none"};
    margin: auto;`),r.textContent=e.name;const c=document.createElement("span");c.setAttribute("class","time"),c.textContent=e.checked?"its done":`${parseFloat(e.hours)||0} hrs | ${parseFloat(e.minutes)||0} m`;let a=document.createElement("span");e.checked||(a=document.createElement("button"),a.setAttribute("class","play"),a.onclick=()=>J({hours:e.hours,minutes:e.minutes,taskElement:o,updateState:t,task:e}),a.innerHTML="&#9654;");const l=document.createElement("button");l.setAttribute("class","edit"),l.onclick=()=>P(t)(e.id),l.innerHTML="&#9998;";const u=document.createElement("button");return u.setAttribute("class","delete"),u.onclick=()=>q(t)(e.id),u.innerHTML="&#x1f7ab;",o.appendChild(s),o.appendChild(r),o.appendChild(a),o.appendChild(c),o.appendChild(l),o.appendChild(u),o.draggable=!0,n&&n.appendChild(o),o}function K(e){e.innerHTML=""}const I=document.getElementById("tasks"),h=document.getElementById("todo_input"),g=document.getElementById("time_input_hours"),U=document.getElementById("save_todo"),z=document.querySelector("#tellmethetasks"),T=document.getElementById("time_input_minutes");document.getElementById("title").textContent=`
Tareas que completar hoy:  ${new Date().toDateString()} \u{1F4DD}
`;const G=e=>n=>{n.dataTransfer.setData("index",e)},Q=e=>n=>{const t=i(),o=parseFloat(n.dataTransfer.getData("index")),s=x(t,o,e);d(s),m()};function m(){console.log("updating...");let e=[];K(I);const n=i();for(let t of n){let o=j({task:t,updateState:m,container:I});e.push(o)}for(let t=0;t<e.length;t++)e[t].ondragstart=G(t),e[t].ondragover=o=>o.preventDefault(),e[t].ondrop=Q(t)}m();U.addEventListener("click",()=>{if(!h.value)return;const[e,n]=F(parseFloat(T.value)||0),t=parseFloat(g.value)+e;console.log("new hours",t,parseFloat(g.value),e),h.value&&D(m)({name:h.value,hours:t,minutes:n}),h.value="",g.value=0,T.value=0,m()});z.onclick=()=>$(i());
